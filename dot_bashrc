# ~/.bashrc

[[ $- != *i* ]] && return

if [ -f ~/.bash_aliases ]; then
  . ~/.bash_aliases
fi

[ -r /usr/share/bash-completion/bash_completion ] && . /usr/share/bash-completion/bash_completion

# Enable history appending instead of overwriting.  #139609
shopt -s histappend

# starship prompt
if [[ -x /usr/bin/starship && -e ~/.config/starship.toml ]]; then
  eval "$(starship init bash)"
fi

export PATH=$PATH:/home/bj/.cargo/bin

export EDITOR="nvim"

if [ -f "/proc/sys/fs/binfmt_misc/WSLInterop" ]; then
  # "Running in WSL."
  eval "$(/usr/sbin/wsl2-ssh-agent)"
else
  # "Not running in WSL."
  export SSH_AUTH_SOCK=$XDG_RUNTIME_DIR/ssh-agent.socket
fi

# fork neovide and return to shell
export NEOVIDE_FORK=1

# npm global-install to a user-writable dir
npm config set prefix "$HOME/.npm-global"
export PATH="$HOME/.npm-global/bin:$PATH"

# ollama
export PATH="/home/work/ollama/bin:$PATH"
export LD_LIBRARY_PATH="/home/work/ollama/lib:$LD_LIBRARY_PATH"
